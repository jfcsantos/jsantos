<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for components/home/header.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">All files</a> / <a href="index.html">components/home</a> header.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">89.29% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>25/28</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">68.97% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>20/29</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">85.71% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>6/7</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">92.59% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>25/27</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import { h, Component } from 'preact';
&nbsp;
const requireAll = <span class="fstat-no" title="function not covered" >re</span>quireContext =&gt; <span class="cstat-no" title="statement not covered" >requireContext.keys().map( requireContext );</span>
&nbsp;
export const viewSize = () =&gt; {
	const viewport = ( typeof window !== 'undefined' ) ? window.innerWidth || <span class="branch-1 cbranch-no" title="branch not covered" >document.documentElement.clientWidth </span>|| <span class="branch-2 cbranch-no" title="branch not covered" >document.body.clientWidth </span>: <span class="branch-1 cbranch-no" title="branch not covered" >1920,</span>
		ratio = ( typeof window !== 'undefined' ) ? window.devicePixelRatio || 1 : <span class="branch-1 cbranch-no" title="branch not covered" >1;</span>
&nbsp;
	return { viewport: viewport, ratio: ratio };
};
&nbsp;
export const chooseBackgroundImages = ( backgroundImages, imageModules, { viewport = <span class="branch-0 cbranch-no" title="branch not covered" >1920,</span> ratio = <span class="branch-0 cbranch-no" title="branch not covered" >1 </span>} ) =&gt; {
	let headerImage,
		imagesSized = backgroundImages.reduce( ( arr, image, i ) =&gt; {
			if ( ( viewport * ratio ) &lt; image.width ) {
				image.filename = imageModules[ i ];
				arr.push( image );
			}
&nbsp;
			return arr;
		}, [] );
	if ( imagesSized.length ) {
		const lastImage = imagesSized.pop();
		<span class="missing-if-branch" title="else path not taken" >E</span>if ( lastImage &amp;&amp; lastImage.filename ) {
			headerImage = lastImage.filename;
		}
	} else {
		headerImage = imageModules[ 0 ];
	}
&nbsp;
	return headerImage;
};
&nbsp;
const determineImage = ( backgroundImage, backgroundImages ) =&gt; {
	let headerImage;
	<span class="missing-if-branch" title="if path not taken" >I</span>if ( backgroundImages ) {
		const imageModules = <span class="cstat-no" title="statement not covered" >requireAll( require.context( '../../assets/header', false ) );</span>
<span class="cstat-no" title="statement not covered" >		headerImage = chooseBackgroundImages( backgroundImages, imageModules, { ...viewSize() } );</span>
	} else {
		headerImage = require( `../../assets/header/${backgroundImage}` );
	}
&nbsp;
	<span class="missing-if-branch" title="else path not taken" >E</span>if ( headerImage ) {
		return `url(${ headerImage })`;
	}
};
&nbsp;
export default class Header extends Component {
	constructor( props ) {
		super();
&nbsp;
		this.state.background_image = ( props.background_image || props.background_images ) ? determineImage( props.background_image, props.background_images ) : null;
	}
&nbsp;
	render( props, { background_image } ) {
		return (
			&lt;header class="header" style={{ backgroundColor: props.background_color || null, backgroundImage: background_image }}&gt;
				&lt;div class="header-wrapper"&gt;
					&lt;div class="header-wrapper-text"&gt;
						&lt;h1 class="title" itemprop="name"&gt;{props.title}&lt;/h1&gt;
						&lt;h2 class="subtitle" itemprop="jobTitle"&gt;{props.subtitle}&lt;/h2&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/header&gt;
		);
	}
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Mon Sep 24 2018 11:46:44 GMT+0100 (WEST)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
